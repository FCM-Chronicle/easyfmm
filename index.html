<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="google-site-verification" content="0EUjE6lQoq4jdx7OwHEU6rxA0N_vDB36l44mRzGV8Xc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무료 풋볼 매니저 게임</title>
    <meta name="description" content="초보자도 쉽게 즐길 수 있는 축구 매니저 시뮬레이션 게임입니다. 팀을 구성하고, 전술을 선택하고, 승리하세요!">
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="stylesheet" href="style.css">
    <style>
        /* scouting.js UI 스타일 */
        .scouting-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #444;
        }
        .scouting-header h3 {
            font-size: 1.5rem;
            color: #ffd700;
            margin-bottom: 10px;
        }
        .scout-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .scout-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .scout-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        .scout-card h4 {
            color: #2ecc71;
            margin-top: 0;
        }
        .scout-card p {
            margin: 8px 0;
        }
        .scout-card button {
            width: 100%;
            margin-top: 15px;
        }
        .scouting-results h4 {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        #scoutedPlayerList .player-card.small {
            background: rgba(46, 204, 113, 0.1);
            border-left: 3px solid #2ecc71;
            padding: 10px 15px;
        }
 
        /* --- 스쿼드 탭 레이아웃 --- */
        .tab-panel.active#squad {
            display: flex;
            gap: 20px; /* 컨테이너 간의 간격 */
        }
 
        .formation-container {
            flex: 3; /* 3:2 비율로 너비 할당 */
            min-width: 0; /* flex item의 크기가 줄어들 수 있도록 설정 */
        }
 
        .team-players {
            flex: 2; /* 3:2 비율로 너비 할당 */
            height: 650px; /* 높이 고정 */
            overflow-y: auto; /* 내용이 많으면 스크롤 */
        }
 
        /* 모바일 반응형 레이아웃 (화면이 900px 이하일 때) */
        @media (max-width: 900px) {
            .tab-panel.active#squad {
                flex-direction: column;
                height: auto; /* 높이 자동 조절 */
                gap: 0; /* 모바일에서는 간격 제거 */
            }
 
            .formation-container {
                flex: none; /* flex 속성 초기화 */
                width: 100%;
                height: 500px; /* 필드 높이 고정 또는 조정 */
                margin-bottom: 20px; /* 선수 목록과의 간격 */
            }
 
            .team-players {
                flex: none; /* flex 속성 초기화 */
                width: 100%;
                height: auto;
                max-height: 400px; /* 모바일에서 최대 높이 제한 */
                overflow-y: auto; /* 내용이 많을 경우 스크롤 */
            }
        }

        /* 매치 엔진 가이드 모달 스타일 */
        .engine-guide-content {
            line-height: 1.6;
            color: #ddd;
        }
        .engine-guide-section {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .engine-guide-section h4 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        .engine-guide-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }
        .badge-mid { background: #3498db; color: white; }
        .badge-atk { background: #e74c3c; color: white; }
        .badge-def { background: #2ecc71; color: white; }
        .badge-counter { background: #f1c40f; color: black; }
 
        /* 스쿼드 컨트롤 영역 스타일 */
        .squad-controls {
            padding: 10px 0;
            margin-bottom: 15px;
            border-bottom: 1px solid #444;
            text-align: right;
        }

        /* 자동 저장 토글 스위치 스타일 */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            vertical-align: middle;
            margin-right: 10px;
        }
        .switch input { 
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #2ecc71;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .auto-save-control {
            display: flex;
            align-items: center;
            margin: 15px 0;
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }
        #autoSaveStatus {
            font-size: 0.9rem;
            font-weight: bold;
        }

        /* 메일함 스타일 */
        .mail-container {
            display: flex;
            height: 600px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
        }
        .mail-list {
            flex: 1;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
        }
        .mail-detail {
            flex: 2;
            padding: 20px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
        }
        .mail-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: background 0.2s;
        }
        .mail-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        .mail-item.unread {
            background: rgba(46, 204, 113, 0.1);
            border-left: 3px solid #2ecc71;
        }
        .mail-item-header {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #aaa;
            margin-bottom: 5px;
        }
        .mail-title {
            font-weight: bold;
            color: #fff;
        }
        .mail-content-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .mail-body {
            line-height: 1.6;
            color: #ddd;
        }
        .mail-actions {
            margin-top: 30px;
            display: flex;
            gap: 10px;
        }
        .mail-badge {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            position: absolute;
            top: -5px;
            right: -5px;
            display: none;
        }
        .tab-btn {
            position: relative; /* 뱃지 위치용 */
        }
        /* DNA 전술 탭 추가 스타일 */
        .dna-body {
            display: flex;
            gap: 30px;
            align-items: center;
            margin-top: 15px;
        }
        .dna-chart-container {
            flex: 1;
            min-width: 280px;
            height: 280px;
        }
        .dna-stats-grid { flex: 1.2; }

        /* DNA 전술 탭 스타일 */
        .dna-section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .dna-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 10px;
        }
        .dna-header h4 { margin: 0; color: #ffd700; }
        .dna-points { font-size: 0.9rem; }
        .text-green { color: #2ecc71; font-weight: bold; }
        .text-red { color: #e74c3c; font-weight: bold; }
        
        .dna-stat-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.2);
            padding: 8px 15px;
            border-radius: 5px;
        }
        .stat-label { width: 80px; font-weight: bold; }
        .stat-controls { display: flex; align-items: center; gap: 5px; }
        .stat-value { width: 40px; text-align: center; font-weight: bold; font-size: 1.1rem; color: #3498db; }
        .btn-control { background: #444; border: none; color: white; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 0.8rem; }
        .btn-control:hover { background: #555; }

        @media (max-width: 768px) {
            .dna-body {
                flex-direction: column;
            }
            .dna-chart-container {
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body>
  <!-- 팀 선택 화면 -->
<div id="teamSelection" class="screen active">
    <h1>팀 선택</h1>
    
    <!-- 나만의 팀 만들기 버튼 -->
    <button id="openCreateTeamModalBtn" class="btn" style="width: 100%; max-width: 1200px; margin: 0 auto 30px; display: block; background: linear-gradient(45deg, #f1c40f, #e67e22); color: #000; font-weight: bold; font-size: 1.2rem; padding: 15px;">🛠️ 나만의 팀 만들기</button>

    <!-- 1부리그 -->
    <div class="league-section">
        <h2 class="league-title">🏆 1부리그 - 최고의 명문 클럽들</h2>
        <div class="teams-grid">
            <div class="team-card" data-team="바르셀로나">
                <h3>바르셀로나</h3>
                <p>꿈과 열정이 살아 숨쉬는 카탈루냐의 자존심</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="레알 마드리드">
                <h3>레알 마드리드</h3>
                <p>왕실의 위엄과 전통을 자랑하는 유럽 최고의 클럽</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="맨체스터 시티">
                <h3>맨체스터 시티</h3>
                <p>홀란드를 앞세운 최강의 공격력, 티키타카의 완성형</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="리버풀">
                <h3>리버풀</h3>
                <p>살라와 함께하는 영국 최고의 명문클럽, 게겐프레싱의 대가</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="토트넘 홋스퍼">
                <h3>토트넘 홋스퍼</h3>
                <p>손흥민과 함께하는 북런던의 강호, 공격적인 축구로 유명한 팀</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="파리 생제르맹">
                <h3>파리 생제르맹</h3>
                <p>크바라츠헬리아와 이강인의 조합, 프랑스 수도의 자존심</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="AC 밀란">
                <h3>AC 밀란</h3>
                <p>레앙과 함께하는 이탈리아의 명문, 로쏘네리의 부활</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="인터 밀란">
                <h3>인터 밀란</h3>
                <p>마르쿠스 튀람의 득점력, 네라주리의 강력한 공격진</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="아스널">
                <h3>아스널</h3>
                <p>사카와 외데고르의 젊은 에너지, 부활하는 런던의 거너스</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="나폴리">
                <h3>나폴리</h3>
                <p>스콧 맥토미니와 함께하는 남부 이탈리아의 열정</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="첼시">
                <h3>첼시</h3>
                <p>엔조와 젊은 재능들의 조화, 런던 블루스의 새로운 시대</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="바이에른 뮌헨">
                <h3>바이에른 뮌헨</h3>
                <p>득점 머신 해리 케인과 함께하는 독일 축구의 왕자</p>
                <div class="team-rating">★★★★★</div>
            </div>
            <div class="team-card" data-team="아틀레티코 마드리드">
                <h3>아틀레티코 마드리드</h3>
                <p>그리즈만 알바레즈 듀오의 클래스, 빗장수비의 강력함</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="도르트문트">
                <h3>도르트문트</h3>
                <p>게겐프레싱의 완성형, 독일 축구의 젊은 피</p>
                <div class="team-rating">★★★★☆</div>
            </div>
        </div>
    </div>

    <!-- 2부리그 -->
    <div class="league-section">
        <h2 class="league-title">⚽ 2부리그 - 도전하는 강호들</h2>
        <div class="teams-grid">
            <div class="team-card" data-team="유벤투스">
                <h3>유벤투스</h3>
                <p>이탈리아의 전통 강호, 흑백 줄무늬의 자존심</p>
                <div class="team-rating">★★★★☆</div>
            </div>
            <div class="team-card" data-team="뉴캐슬 유나이티드">
                <h3>뉴캐슬 유나이티드</h3>
                <p>이사크와 고든의 스피드, 영국 북동부의 야심찬 언더독</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="아스톤 빌라">
                <h3>아스톤 빌라</h3>
                <p>버밍엄의 자존심, 전통과 혁신이 만나는 클럽</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="라이프치히">
                <h3>라이프치히</h3>
                <p>독일의 떠오르는 신예, 젊은 에너지와 현대적 축구</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="세비야">
                <h3>세비야</h3>
                <p>UEFA 컵의 왕자, 안달루시아의 뜨거운 열정</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="아약스">
                <h3>아약스</h3>
                <p>토탈 풋볼의 발원지, 네덜란드 축구의 상징</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="AS 로마">
                <h3>AS 로마</h3>
                <p>디발라의 마법같은 플레이, 이탈리아 수도의 늑대들</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="레버쿠젠">
                <h3>레버쿠젠</h3>
                <p>비르츠와 함께하는 젊은 에너지, 독일의 떠오르는 강호</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="스포르팅 CP">
                <h3>스포르팅 CP</h3>
                <p>포르투갈의 전통 강호, 리스본의 녹색 사자들</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="벤피카">
                <h3>벤피카</h3>
                <p>독수리의 비상, 포르투갈 축구의 자존심</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="셀틱">
                <h3>셀틱</h3>
                <p>스코틀랜드의 전설, 글래스고의 녹색 전사들</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="페예노르트">
                <h3>페예노르트</h3>
                <p>로테르담의 자존심, 네덜란드의 전통 강호</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="맨체스터 유나이티드">
                <h3>맨체스터 유나이티드</h3>
                <p>EPL 최다우승 팀, 전설적인 명문클럽의 재건</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
            <div class="team-card" data-team="올랭피크 드 마르세유">
                <h3>올랭피크 드 마르세유</h3>
                <p>프랑스 남부의 열정, 마르세유의 하얀 전사들</p>
                <div class="team-rating">★★★☆☆</div>
            </div>
        </div>
    </div>

    <!-- 3부리그 -->
    <div class="league-section">
        <h2 class="league-title">🌟 3부리그 - 꿈을 향한 도전자들</h2>
        <div class="teams-grid">
            <div class="team-card" data-team="FC 서울">
                <h3>FC 서울</h3>
                <p>대한민국 수도의 자존심, K리그의 명문 클럽</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="갈라타사라이">
                <h3>갈라타사라이</h3>
                <p>터키 이스탄불의 전설, 유럽을 놀라게 한 황금사자들</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="알 힐랄">
                <h3>알 힐랄</h3>
                <p>사우디아라비아의 왕자, 중동 축구의 강자</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="알 이티하드">
                <h3>알 이티하드</h3>
                <p>벤제마와 함께하는 사우디의 새로운 도전</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="알 나스르">
                <h3>알 나스르</h3>
                <p>호날두의 새로운 무대, 사우디 축구의 혁신</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="아르헨티나 연합">
                <h3>아르헨티나 연합</h3>
                <p>메시의 고향, 남미 축구의 예술혼이 살아있는 팀</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="미국 연합">
                <h3>미국 연합</h3>
                <p>북미 축구의 새로운 희망, 다양성이 만드는 힘</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="멕시코 연합">
                <h3>멕시코 연합</h3>
                <p>라틴 아메리카의 열정, 축제 같은 축구를 구사</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="브라질 연합">
                <h3>브라질 연합</h3>
                <p>삼바 축구의 본고장, 아름다운 플레이의 대가들</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="전북 현대">
                <h3>전북 현대</h3>
                <p>K리그의 전통 강호, 전라북도의 녹색 전사들</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="울산 현대">
                <h3>울산 현대</h3>
                <p>산업도시의 자존심, 아시아 챔피언의 경험</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="포항 스틸러스">
                <h3>포항 스틸러스</h3>
                <p>철강 도시의 단단함, K리그 초창기부터의 전통</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="광주 FC">
                <h3>광주 FC</h3>
                <p>새롭게 떠오르는 K리그의 다크호스</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
            <div class="team-card" data-team="리옹">
                <h3>리옹</h3>
                <p>프랑스의 전통 강호, 아름다운 축구의 대명사</p>
                <div class="team-rating">★★☆☆☆</div>
            </div>
        </div>
    </div>
</div>


    <!-- 로비 화면 -->
    <div id="lobby" class="screen">
        <div class="lobby-header">
            <h1 id="teamName">팀 이름</h1>
            <div class="team-info">
                <div class="info-item">
                    <span class="label">자금:</span>
                    <span id="teamMoney">1000억</span>
                </div>
                <div class="info-item">
                    <span class="label">사기:</span>
                    <span id="teamMorale">50</span>
                </div>
                <div class="info-item">
                    <span class="label">스폰서:</span>
                    <span id="currentSponsor">없음</span>
                </div>
            </div>
        </div>
        
        <div class="lobby-tabs">
    <button class="tab-btn active" data-tab="squad">스쿼드</button>
    <button class="tab-btn" data-tab="match">경기</button>
    <button class="tab-btn" data-tab="transfer">이적</button>
    <button class="tab-btn" data-tab="league">리그</button>
    <button class="tab-btn" data-tab="sponsor">스폰서</button>
    <button class="tab-btn" data-tab="records">개인기록</button>
    <button class="tab-btn" data-tab="youth">유스</button>
    <button class="tab-btn" data-tab="sns">SNS</button>
    <button class="tab-btn" data-tab="transfer_news">이적 뉴스</button>
    <button class="tab-btn" data-tab="tactics">전술(DNA)</button>
    <button class="tab-btn" data-tab="mail">
        메일함 <span id="mailBadge" class="mail-badge"></span>
    </button>
    <button class="tab-btn" data-tab="secretary">비서</button>
    <button class="tab-btn" data-tab="settings">설정</button>
</div>
        <div class="tab-content">
            <!-- 스쿼드 탭 -->
            <div id="squad" class="tab-panel active">
                <div class="squad-controls">
                    <!-- 포메이션 수정 버튼은 이 곳으로 이동됩니다. (scouting.js에서 처리) -->
                </div>

                <div class="formation-container">
                    <div class="field-wrapper">
                        <div class="field">
                            <div class="field-line"></div>
                            <div class="center-circle"></div>
                            <div class="penalty-box penalty-box-top"></div>
                            <div class="penalty-box penalty-box-bottom"></div>
                            
                            <!-- 선수 영역 -->
                            <div class="player-area" id="fw-area" data-position-type="FW"></div>
                            <div class="player-area" id="mf-area" data-position-type="MF"></div>
                            <div class="player-area" id="df-area" data-position-type="DF"></div>
                            <div class="player-area" id="gk-area" data-position-type="GK"></div>
                        </div>
                    </div>
                </div>
                
                <div class="team-players">
                    <h3>팀 선수 목록(선발인 선수는 판매하지 마세요)</h3>
                    <div id="playerList"></div>
                </div>
            </div>

            <!-- 개선된 경기 탭 -->
            <div id="match" class="tab-panel">
                <div class="match-info">
                    <h3>🏆 다음 경기(경기 중에는 경기종료버튼 누르지 마세요 누르면 겜터짐)</h3>
                    <div class="opponent-info">
                        <div class="opponent-details">
                            <div class="opponent-name">
                                <span id="opponentName">상대팀</span>
                            </div>
                            <div class="match-details">
                                <span class="match-type">리그전</span>
                                <span class="match-time">킥오프 예정</span>
                            </div>
                        </div>
                        <button id="startMatchBtn" class="btn primary">⚽ 경기 시작</button>
                    </div>
                </div>
                
                <div class="tactic-selection">
                    <h3>🎯 전술 선택</h3>
                    <div class="tactic-info">
                        <p>상대팀의 전술에 따라 승부의 향방이 결정될 수 있습니다.</p>
                    </div>
                    <select id="tacticSelect">
                        <option value="gegenpress">게겐프레싱 - 높은 압박으로 빠른 역습</option>
                        <option value="twoLine">다이렉트 축구 - 상대의 허점 파고들기</option>
                        <option value="lavolpiana">라볼피아나 - 측면 공격 중심</option>
                        <option value="longBall">롱볼축구 - 긴 패스로 빠른 공격</option>
                        <option value="possession">점유율 축구 - 천천히 기회 창출</option>
                        <option value="parkBus">역습 축구 - 수비 후 빠른 역습</option>
                        <option value="catenaccio">카테나치오 - 이탈리아식 수비</option>
                        <option value="totalFootball">토탈 풋볼 - 모든 선수가 공수 참여</option>
                        <option value="tikitaka">티키타카 - 짧은 패스 연결</option>
                    </select>
                    <div class="tactic-tip">
                        💡 팁: 설정에서 상대팀의 전술 스타일을 파악한 후 적절한 전술을 선택하세요
                    </div>
                </div>
            </div>

            <!-- 전술(DNA) 탭 -->
            <div id="tactics" class="tab-panel">
                <div class="tactics-header">
                    <h3>🧬 팀 DNA 설정</h3>
                    <button id="openEngineGuideBtn" class="btn" style="float: right; margin-top: -40px; background: #9b59b6;">📖 매치 엔진 가이드</button>
                    <p style="color: #aaa; font-size: 0.9rem; margin-bottom: 20px;">라인별 총 포인트(OVR x 4)를 4대 핵심 스탯에 직접 분배하여 팀의 색깔을 결정하세요.</p>
                </div>
                <div id="tacticsContent"></div>
            </div>

            <!-- 이적 탭 -->
            <div id="transfer" class="tab-panel">
                <div class="transfer-controls">
                    <h3>이적 시장</h3>
                    <div class="search-filters">
                        <input type="text" id="nameSearch" placeholder="선수 이름 검색">
                        <select id="positionFilter">
                            <option value="">모든 포지션</option>
                            <option value="GK">골키퍼</option>
                            <option value="DF">수비수</option>
                            <option value="MF">미드필더</option>
                            <option value="FW">공격수</option>
                        </select>
                        <input type="number" id="minRating" placeholder="최소 능력치">
                        <input type="number" id="maxAge" placeholder="최대 나이">
                        <button id="searchBtn" class="btn">검색</button>
                    </div>
                </div>
                <div id="transferPlayers"></div>
            </div>

            <!-- 리그 탭 -->
            <div id="league" class="tab-panel">
                <h3>리그 순위표</h3>
                <div id="leagueTable"></div>
            </div>

            <!-- 개선된 스폰서 탭 -->
            <div id="sponsor" class="tab-panel">
                <div class="sponsor-header">
                    <h3>💼 스폰서 계약</h3>
                    <p class="sponsor-description">
                        스폰서와 계약하여 경기당 추가 수익을 얻으세요. 팀의 평균 능력치가 높을수록 더 좋은 스폰서와 계약할 수 있습니다.
                    </p>
                    <div class="current-sponsor-info">
                        <div class="info-label">현재 스폰서:</div>
                        <div class="current-sponsor-name" id="currentSponsorDisplay">계약 없음</div>
                    </div>
                </div>
                <div id="sponsorList"></div>
            </div>
        <!-- 탭 콘텐츠 영역에 추가 -->
        <div id="transfer_news" class="tab-panel">
            <h3>최신 이적 소식</h3>
            <div id="transferNewsList"></div> <!-- 여기에 카드가 생성됩니다 -->
        </div>
          
<!-- 개인 기록 탭 -->
<div id="records" class="tab-panel">
    <div class="records-header">
        <h3>📊 개인 기록</h3>
        <p class="records-description">시즌 득점왕과 도움왕 순위를 확인하세요!(개발중)</p>
    </div>
    
    <div class="records-content">
        <div class="records-section">
            <h4>⚽ 득점왕 순위 (TOP 5)</h4>
            <div id="topScorers" class="ranking-list">
                <p style="text-align: center; opacity: 0.7;">아직 기록이 없습니다.</p>
            </div>
        </div>
        
        <div class="records-section">
            <h4>🅰️ 도움왕 순위 (TOP 5)</h4>
            <div id="topAssisters" class="ranking-list">
                <p style="text-align: center; opacity: 0.7;">아직 기록이 없습니다.</p>
            </div>
        </div>

        <!-- MOM 순위 추가 -->
        <div class="records-section">
            <h4>⭐ MOM 최다 선정 (TOP 5)</h4>
            <div id="topMOMs" class="ranking-list">
                <p style="text-align: center; opacity: 0.7;">아직 기록이 없습니다.</p>
            </div>
        </div>

        <!-- 베스트 11 추가 -->
        <div class="records-section full-width">
            <h4>🏆 이번 라운드 베스트 11</h4>
            <div id="weeklyBest11" class="best11-list">
                <p style="text-align: center; opacity: 0.7;">아직 선정되지 않았습니다.</p>
            </div>
        </div>
    </div>

    <!-- 역대 기록 뷰 (숨김 상태로 시작) -->
    <div id="historyView" style="display: none;">
        <div id="historyList"></div>
    </div>
</div>

            <!-- 유스 탭 -->
            <div id="youth" class="tab-panel">
                <div class="youth-header">
                    <h3>🌟 유스팀</h3>
                    <p>환생했거나 발굴된 유망주를 확인하고 1군으로 콜업하세요. (선수 교체 방식)</p>
                </div>
                <div id="youthPlayerList"></div>
                <!-- 스카우트 섹션 -->
                <div id="scoutingSection" class="scouting-section"></div>
            </div>

            <div id="sns" class="tab-panel">
    <div class="sns-header">
        <h3>소셜 피드</h3>
        <p class="sns-description">최신 이적 소식과 경기 결과를 확인하세요!</p>
    </div>
    <div id="snsFeed" class="sns-feed"></div>
</div>
          
            <!-- 메일함 탭 -->
            <div id="mail" class="tab-panel">
                <h3>📬 개인 메일함</h3>
                <div class="mail-container">
                    <div id="mailList" class="mail-list"></div>
                    <div id="mailDetail" class="mail-detail">
                        <div style="text-align: center; color: #aaa; margin-top: 100px;">메일을 선택하여 내용을 확인하세요.</div>
                    </div>
                </div>
            </div>

            <!-- 비서 탭 -->
            <div id="secretary" class="tab-panel">
                <div class="secretary-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; min-height: 400px; background: rgba(0,0,0,0.2); border-radius: 10px; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">👩‍💼</div>
                    <h3 style="color: #ffd700; margin-bottom: 10px;">비서실</h3>
                    <p style="color: #ddd; text-align: center; max-width: 500px; margin-bottom: 30px; line-height: 1.6;">
                        감독님, 선수들이 면담을 기다리고 있습니다.<br>
                        선수들의 고민을 해결해주면 경기력이 향상될 수 있습니다.
                    </p>
                    <button id="openOfficeBtn" class="btn" style="background: linear-gradient(45deg, #8e44ad, #9b59b6); padding: 15px 40px; font-size: 1.2rem; border: none; border-radius: 30px; box-shadow: 0 4px 15px rgba(142, 68, 173, 0.4); transition: transform 0.2s;">
                        📋 감독실 입장하기
                    </button>
                </div>
            </div>

            <!-- 설정 탭 -->
<div id="settings" class="tab-panel">
    <h3>⚙️ 게임 설정</h3>
    <div class="settings-content">
        <div class="settings-section">
            <h4>파일로 저장/불러오기</h4>
            <button id="saveGameBtn" class="btn">💾 파일로 저장</button>
            <button id="loadGameBtn" class="btn">📁 파일에서 불러오기</button>
            <input type="file" id="loadGameInput" accept=".json, .txt" style="display: none;">
        </div>
        <div class="settings-section">
            <h4>자동 저장</h4>
            <div class="auto-save-control">
                <label class="switch">
                    <input type="checkbox" id="autoSaveToggle">
                    <span class="slider round"></span>
                </label>
                <span id="autoSaveStatus">자동 저장이 꺼져있습니다.</span>
            </div>
            <p class="setting-desc" style="font-size: 0.85rem; color: #aaa; margin-top: 5px;">경기가 끝나거나 자금이 변동될 때, 마지막으로 저장했던 슬롯에 자동으로 저장합니다.</p>
        </div>
        <div class="settings-section">
            <h4>브라우저에 저장/불러오기 (슬롯 시스템)</h4>
            <div id="saveSlots"style="display: grid; gap: 15px; margin-top: 15px;">
                <!-- 슬롯들이 여기에 동적으로 생성됩니다 -->
            </div>
        </div>
        <div class="settings-section">
            <h4>선수 관리</h4>
            <button id="showGrowthBtn" class="btn">📈 성장 현황</button>
        </div>
        <div class="settings-section">
            <h4>전술 정보</h4>
            <button id="showTacticsBtn" class="btn">🎯 전술 상성표</button>
            <button id="showTeamTacticsBtn" class="btn">📋 팀별 전술</button>
        </div>
    </div>
</div>
        </div>
    </div>

  
    <!-- 경기 화면 -->
    <div id="matchScreen" class="screen">
        <div class="match-header">
            <h2 id="matchTitle">경기 진행</h2>
            <div class="score">
                <span id="homeTeam">홈팀</span>
                <span id="scoreDisplay">0 - 0</span>
                <span id="awayTeam">어웨이팀</span>
            </div>
            <div class="time">
                <span id="matchTime">0분</span>
            </div>
            <!-- [신규] 스태미나 표시기 -->
            <div id="staminaContainer" style="margin-top: 10px; font-size: 0.9rem; background: rgba(0,0,0,0.3); padding: 5px 15px; border-radius: 15px;">
                <span style="color: #aaa; margin-right: 10px;">체력:</span>
                <span style="color: #e74c3c; font-weight: bold;">FW <span id="atkStamina">100</span>%</span>
                <span style="color: #555; margin: 0 5px;">|</span>
                <span style="color: #3498db; font-weight: bold;">MF <span id="midStamina">100</span>%</span>
                <span style="color: #555; margin: 0 5px;">|</span>
                <span style="color: #2ecc71; font-weight: bold;">DF <span id="defStamina">100</span>%</span>
            </div>
        </div>
        
        <div class="match-events">
            <div id="eventList"></div>
        </div>
        
        <div class="match-controls" style="text-align: center; margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
            <button id="substituteBtn" class="btn" style="display: none;">🔄 교체</button>
            <button id="endMatchBtn" class="btn" style="display: none;">경기 종료</button>
        </div>
    </div>

    <!-- 인터뷰 화면 -->
    <div id="interviewScreen" class="screen">
        <div class="interview-container">
            <h2>경기 후 인터뷰</h2>
            <div id="interviewQuestion"></div>
            <div class="interview-options">
                <button class="interview-btn" data-option="1"></button>
                <button class="interview-btn" data-option="2"></button>
                <button class="interview-btn" data-option="3"></button>
            </div>
        </div>
    </div>

    <!-- 팀 만들기 모달 -->
    <div id="createTeamModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <span class="close-btn" id="closeCreateTeamModal">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 30px;">나만의 팀 만들기</h3>
            
            <!-- 모드 선택 화면 -->
            <div id="createTeamModeSelection" style="display: flex; gap: 20px; justify-content: center; margin-bottom: 20px;">
                <button id="createIconTeamBtn" class="btn primary" style="padding: 30px; font-size: 1.2rem; flex: 1;">
                    ⭐ 아이콘 팀 만들기<br>
                    <span style="font-size: 0.9rem; font-weight: normal; display: block; margin-top: 10px; color: #ddd;">
                        레전드 선수들로 구성된 드림팀<br>
                        2부리그 시작 / 초기 오버롤 81 / 19세
                    </span>
                </button>
                <button id="createCustomTeamBtn" class="btn primary" style="padding: 30px; font-size: 1.2rem; flex: 1; background: linear-gradient(45deg, #3498db, #2980b9);">
                    📝 커스텀 팀 만들기<br>
                    <span style="font-size: 0.9rem; font-weight: normal; display: block; margin-top: 10px; color: #ddd;">
                        원하는 선수들로 구성된 나만의 팀<br>
                        1~3부 리그 선택 가능 / 이름, 국적 등 커스터마이징
                    </span>
                </button>
            </div>

            <!-- 아이콘 팀 생성 화면 (초기에는 숨김) -->
            <div id="iconTeamCreationArea" style="display: none;">
                <div style="margin-bottom: 20px; text-align: center;">
                    <label style="font-size: 1.1rem; margin-right: 10px;">팀 이름:</label>
                    <input type="text" id="customTeamName" maxlength="6" placeholder="6글자 이내" style="padding: 8px; font-size: 1rem; width: 150px; text-align: center;">
                </div>
                <div style="margin-bottom: 20px; text-align: center;">
                    <label style="font-size: 1.1rem; margin-right: 10px;">교체할 팀 (2부):</label>
                    <select id="replacementTeamSelect" style="padding: 8px; font-size: 1rem; width: 200px; background: #333; color: #fff; border: 1px solid #555;"></select>
                </div>
                <p style="text-align: center; margin-bottom: 15px;">선수 18명을 선택하세요 (<span id="selectedCount">0</span>/18)</p>
                <div id="iconPlayerSelectionList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; max-height: 400px; overflow-y: auto; margin-bottom: 20px; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px;">
                    <!-- 자바스크립트로 선수 목록 생성 -->
                </div>
                <button id="confirmCreateTeamBtn" class="btn primary" style="width: 100%;" disabled>팀 생성 완료</button>
            </div>

            <!-- 커스텀 팀 생성 화면 -->
            <div id="customTeamCreationArea" style="display: none;">
                <div style="display: flex; gap: 10px; justify-content: center; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 5px;">팀 이름 (6자)</label>
                        <input type="text" id="customTeamNameInput" maxlength="6" style="padding: 8px; width: 120px; text-align: center; background: #333; color: white; border: 1px solid #555;">
                    </div>
                    <div>
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 5px;">참가 리그</label>
                        <select id="customLeagueSelect" style="padding: 8px; width: 100px; background: #333; color: white; border: 1px solid #555;">
                            <option value="1">1부 리그</option>
                            <option value="2">2부 리그</option>
                            <option value="3">3부 리그</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 5px;">팀 국적</label>
                        <select id="customNationSelect" style="padding: 8px; width: 100px; background: #333; color: white; border: 1px solid #555;">
                            <option value="random">랜덤</option>
                            <option value="대한민국">대한민국</option>
                            <option value="잉글랜드">잉글랜드</option>
                            <option value="스페인">스페인</option>
                            <option value="독일">독일</option>
                            <option value="프랑스">프랑스</option>
                            <option value="이탈리아">이탈리아</option>
                            <option value="브라질">브라질</option>
                            <option value="아르헨티나">아르헨티나</option>
                        </select>
                    </div>
                </div>
                
                <div style="margin-bottom: 15px; text-align: center;">
                    <label style="font-size: 0.9rem; margin-right: 10px;">교체할 팀:</label>
                    <select id="customReplacementSelect" style="padding: 5px; background: #333; color: white; border: 1px solid #555;"></select>
                </div>

                <div id="customPlayerInputs" style="max-height: 400px; overflow-y: auto; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 5px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <!-- 자바스크립트로 입력 필드 생성 -->
                </div>

                <button id="confirmCreateCustomTeamBtn" class="btn primary" style="width: 100%; margin-top: 15px;">팀 생성 완료</button>
            </div>
        </div>
    </div>

    <!-- 경기 결과(평점) 모달 -->
    <div id="matchResultModal" class="modal">
        <div class="modal-content" style="max-width: 900px;">
            <h3 id="matchResultTitle" style="text-align: center; color: #ffd700; margin-bottom: 20px;">경기 결과 & 평점</h3>
            <div class="match-score-summary" style="text-align: center; margin-bottom: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                <span id="resultHomeTeam" style="font-size: 1.5rem; font-weight: bold;"></span>
                <span id="resultScore" style="font-size: 2.5rem; margin: 0 20px; font-weight: bold; color: #ffd700;"></span>
                <span id="resultAwayTeam" style="font-size: 1.5rem; font-weight: bold;"></span>
            </div>
            <div class="ratings-container" style="display: flex; gap: 20px; max-height: 500px; overflow-y: auto;">
                <div class="team-ratings" id="homeTeamRatings" style="flex: 1;"></div>
                <div class="team-ratings" id="awayTeamRatings" style="flex: 1;"></div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button id="confirmResultBtn" class="btn primary">확인 (인터뷰 진행)</button>
            </div>
        </div>
    </div>

    <!-- 매치 엔진 가이드 모달 -->
    <div id="engineGuideModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-btn" id="closeEngineGuideModal">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 20px;">📖 매치 엔진 작동 원리</h3>
            <div class="engine-guide-content" style="max-height: 600px; overflow-y: auto;">
                
                <div class="engine-guide-section">
                    <h4>1. 경기 구역 (Zones)</h4>
                    <p>경기는 크게 <strong>중원(Midfield)</strong>, <strong>공격 지역(Final Third)</strong> 두 구역에서 진행됩니다. 공은 기본적으로 중원에 있으며, 중원 싸움에서 승리한 팀이 공격 지역으로 진입합니다.</p>
                </div>

                <div class="engine-guide-section">
                    <h4>2. <span class="engine-guide-badge badge-mid">중원 장악</span> (Midfield Battle)</h4>
                    <p>양 팀 미드필더진의 <strong>기술 + 정신력 + 수비력</strong> 평균치를 비교합니다. 여기에 약간의 운(랜덤 변수)이 작용하여 승자를 결정합니다.</p>
                    <p>⚠️ <strong>중원 우회(Bypass):</strong> 중원 싸움에서 져도 '롱볼', '다이렉트' 등의 전술을 사용하거나 운이 좋으면 중원을 생략하고 바로 공격 기회를 잡을 수 있습니다. (중원 장악이 전부는 아닙니다!)</p>
                </div>

                <div class="engine-guide-section">
                    <h4>3. <span class="engine-guide-badge badge-atk">공격 및 골</span> (Goal Chance)</h4>
                    <p>공격 지역에 진입하면 <strong>공격진(공격력+스피드)</strong> vs <strong>수비진(수비력+피지컬)</strong>의 대결이 펼쳐집니다.</p>
                    <p>이 대결에서 승리하면 슈팅 기회를 잡습니다. 슈팅 성공률은 양 팀의 전력 차이와 공격수의 결정력에 따라 달라집니다.</p>
                </div>

                <div class="engine-guide-section">
                    <h4>4. <span class="engine-guide-badge badge-def">수비 및 역습</span> (Defense & Counter)</h4>
                    <p>수비진이 공격을 막아내면 공 소유권이 넘어옵니다. 이때 <strong>역습(Counter Attack)</strong> 기회가 발생할 수 있습니다.</p>
                    <p>⚡ <strong>역습 조건:</strong> 수비 성공 직후, 우리 공격진의 <strong>스피드</strong>가 상대 수비진보다 월등히 빠르면 역습이 발동됩니다. 역습 상황에서는 골 확률이 1.5배 증가합니다.</p>
                </div>

                <div class="engine-guide-section">
                    <h4>5. 요약</h4>
                    <p>강한 미드필더는 공격 기회를 많이 가져오고, 강한 수비수는 실점을 막고 역습 기회를 만듭니다. 빠른 공격수는 역습에 유리하고, 기술적인 공격수는 지공 상황에서 유리합니다.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- [신규] 비서 상담실 모달 -->
    <div id="secretaryModal" class="modal" style="z-index: 3000;">
        <div class="secretary-room">
            <div class="secretary-header">
                <div class="secretary-profile">
                    <div class="secretary-avatar">👩‍💼</div>
                    <div class="secretary-info">
                        <div class="secretary-role">비서실장</div>
                        <div class="secretary-name" id="secretaryNameDisplay">김지수</div>
                    </div>
                </div>
            </div>
            <div id="secretaryContent" class="secretary-content">
                <!-- 동적으로 내용이 채워집니다 -->
            </div>
        </div>
    </div>

    <!-- 선수 교체 모달 -->
    <div id="substitutionModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-btn" id="closeSubstitutionModal">&times;</span>
            <h3 id="substitutionModalTitle">선수 교체</h3>
            <p id="substitutionsLeft">남은 교체 횟수: 5</p>
            <div class="substitution-container">
                <div class="substitution-section">
                    <h4>현재 필드</h4>
                    <div id="fieldPlayersList"></div>
                </div>
                <div class="substitution-section">
                    <h4>벤치</h4>
                    <div id="benchPlayersList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- [신규] 선수 교체용 바텀 시트 -->
    <div id="substitutionSheet" class="bottom-sheet">
        <div class="sheet-header">
            <h4 id="sheetTitle">선수 교체</h4>
            <span class="close-sheet-btn" id="closeSubstitutionSheet">&times;</span>
        </div>
        <div id="sheetPlayerList" class="sheet-player-list">
            <!-- 선수 목록이 여기에 동적으로 생성됩니다 -->
        </div>
    </div>

    <!-- 선수 선택 모달 -->
    <div id="playerModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 class="modal-title">선수 선택</h3>
            <div id="modalPlayerList"></div>
        </div>
    </div>

    <!-- 전술 정보 모달 -->
    <div id="tacticsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTacticsModal()">&times;</span>
            <h3 id="tacticsModalTitle">전술 정보</h3>
            <div id="tacticsModalContent"></div>
        </div>
    </div>
    

<script src="script.js"></script>
<script src="transfer.js"></script>
<script src="sns.js"></script>
<script src="records.js"></script>
<script src="playerGrowth.js"></script>
<script src="endSeason.js"></script>
<script src="tacticSystem.js"></script>
<script src="scouting.js"></script>
<script src="formation.js"></script>
<script src="autosave.js"></script>
<script src="mail.js"></script>
<script src="tutorial.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="tactics.js"></script>
<script src="secretary.js"></script>
</body>
</html>
